<?xml version="1.0"?>
<!--
  ~ JBoss, Home of Professional Open Source
  ~ Copyright 2014, Red Hat Middleware LLC, and individual contributors
  ~ by the @authors tag. See the copyright.txt in the distribution for a
  ~ full listing of individual contributors.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<arquillian xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xmlns="http://jboss.org/schema/arquillian"
            xsi:schemaLocation="http://jboss.org/schema/arquillian
    http://jboss.org/schema/arquillian/arquillian_1_0.xsd">

  <!--
    Servlet protocol required for EAR packaging.
    See : http://community.jboss.org/message/622917
          https://issues.jboss.org/browse/AS7-1696
  -->
  <defaultProtocol type="Servlet 3.0"/>

  <container qualifier="wildfy-8.0" default="true">
    <configuration>
      <property name="jbossHome">target/wildfly-8.1.0.Final</property>
      <property name="javaVmArguments">-Xmx1024m -XX:PermSize=256m -XX:MaxPermSize=256m</property>
    </configuration>
  </container>


  <container qualifier="wildfly-remote" >
    <configuration>
      <property name="managementAddress">127.0.0.1</property>
      <property name="managementPort">9990</property>
    </configuration>
  </container>

  <extension qualifier="transaction">
    <property name="manager">java:jboss/UserTransaction</property>
  </extension>

  <extension qualifier="persistence-script">
    <property name="scriptsToExecuteBeforeTest">SET REFERENTIAL_INTEGRITY FALSE;</property>
    <property name="scriptsToExecuteAfterTest">scripts/turn-on-integrity-checks.sql</property>
  </extension>

  <extension qualifier="persistence-dbunit">
    <property name="datatypeFactory">org.dbunit.ext.h2.H2DataTypeFactory</property>
    <property name="scriptableDataSets">true</property>
  </extension>

</arquillian>
